<%= form_for(@goal) do |f| %>
  <% if @goal.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@goal.errors.count, "error") %> prohibited this goal from being saved:</h2>

      <ul>
      <% @goal.errors.full_messages.each do |msg| %>
        <li><%= msg %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  
<form action="" role="form">
  <div class="form-group">
    <label for="goal_type">Is your goal for a Project or a Task?</label>
    <%= select_tag(:goal_owner, options_for_select([["Task", Goal::TASK_TYPE], ["Project", Goal::PROJECT_TYPE]]), id: 'goal_owner') %>
  </div>

  <div class="form-group">
    <label for="project">Project</label>
    <%= select_tag(:project_id, options_for_select(Project.all.map{|p| [p.name, p.id]}), class: 'projectSelect') %>
  </div>

  <div class="form-group" id="taskSelect">
    <label for="task">Task</label>
    <select id="task_id" name="task_id"></select>
  </div>
  
  <div class="form-group">
    <label for="task">Positive goals mean you want to do more of them, negative goals less</label>
    <%= select_tag(:goal_type, options_for_select([['Negative', -1], ['Positive', 1]])) %>
  </div>

  <div class="form-group">
    <label for="amount">How many hours in this goal?</label>
    <%= text_field :goal, :amount %>
  </div>
  <div class="actions">
    <%= f.submit %>
  </div>
  </div>
</form>
<% end %>
